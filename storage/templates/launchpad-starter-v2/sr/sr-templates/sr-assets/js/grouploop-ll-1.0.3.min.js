/*!
Name: jQuery grouploop plugin
Verison: 1.0.3
Author: Scott Alguire
Repository: https://github.com/scottalguire/grouploop
Forked and modified by: Adrian Sandu
Email: adrian@lean-labs.com
*/

!function(n){n.fn.extend({grouploop:function(e){var i,r,a,t=n.extend({velocity:2,forward:!0,childNode:".item",childWrapper:".item-wrap",pauseOnHover:!0},e),d=this,o=!1,c=t.velocity,s=n(d).find(t.childWrapper+" "+t.childNode).length,p=(n(window).width(),n(d).width()),l=parseInt(n(t.childNode).css("margin-left"))+parseInt(n(t.childNode).css("margin-right"))+parseInt(n(t.childNode).css("width")),h=s*l,f=h;function m(){if(p=n(d).width(),i&&(cancelAnimationFrame(i),i=void 0),2*h<p)o=!1,s=n(a).length,h=s*l,n(d).find(t.childWrapper).append(a);else{var e=n(a).clone();o=!0,s=n(a).length,h=2*s*l,f=s*l,n(d).find(t.childWrapper).append(a).append(e)}o&&(i=window.requestAnimationFrame(w))}function w(){t.forward?r<=0?(r+=1*c,n(d).find(t.childWrapper).css("transform","translateX("+r+"px)")):(n(d).find(t.childWrapper).css("transform","translateX("+-h+")"),r=-f):r>=-f?(r-=1*c,n(d).find(t.childWrapper).css("transform","translateX("+r+"px)")):(n(d).find(t.childWrapper).css("transform","translateX(0)"),r=0),i=window.requestAnimationFrame(w)}a=n(d).find(t.childNode).detach(),m(),window.addEventListener("resize",function(){m()}),t.pauseOnHover&&o&&n(d).hover(function(){cancelAnimationFrame(i)},function(){i=window.requestAnimationFrame(w)})}})}(jQuery);
